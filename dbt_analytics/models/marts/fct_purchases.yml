version: 2


models:

  - name: fct_purchases

    description: Fact table for Purchasing.

    columns:

      - name: fk_date

        description: Foreign key from date dimension table.

        tests:

          - unique

          - not_null

      - name: fk_vendors

        description: Foreign key from vendors dimension table.

        tests:

          - unique

          - not_null

      - name: fk_ship

        description: Foreign key from ship dimension table.

        tests:

          - unique

          - not_null

      - name: fk_products

        description: Foreign key from products dimension table.

        tests:

          - unique

          - not_null

      - name: unit_price

        description: Vendor's selling price of a single product.

        tests:

          - not_null

      - name: order_qty

        description: Quantity ordered.

        tests:

          - not_null

      - name: received_qty

        description: Quantity actually received from the vendor.

        tests:

          - not_null

      - name: rejected_qty

        description: Quantity rejected during inspection.

      - name: purchase_id

        description: Primary key. Foreign key to PurchaseOrderHeader

        tests:

          - unique

          - not_null

      - name: purchase_detail_id

        description: Primary key. One line number per purchased product.

        tests:

          - unique

          - not_null

      - name: due_date

        description: Date the product is expected to be received.

        tests:

          - not_null

      - name: modified_date

        description: Date and time the record was last updated.

        tests:

          - not_null

      - name: purchase_status

        description: Order current status. 1 = Pending; 2 = Approved; 3 = Rejected; 4 = Complete

        tests:

          - not_null

          - accepted_values:

              values: [1, 2, 3, 4]

      - name: tax_amount

        description: Tax amount.

        tests:

          - not_null

      - name: subtotal

        description: Purchase order subtotal.

        tests:

          - not_null

      - name: vendor_id

        description: Vendor with whom the purchase order is placed.

        tests:

          - not_null

      - name: employee_id

        description: Employee who created the purchase order.

        tests:

          - not_null

      - name: ship_method_id

        description: Shipping method.

        tests:

          - not_null

      - name: order_date

        description: Purchase order creation date.

        tests:

          - not_null

      - name: ship_date

        description: Estimated shipment date from the vendor.

        tests:

          - not_null

      - name: purchase_o_id

        description: Primary key from PurchaseOrderHeader

        tests:

          - not_null

          - unique